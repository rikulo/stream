[!-- Syntax Test --]
[:page contentType="[=foo.contentType as String]" args="required foo, bool c = false"
	import="dart:collection show LinkedHashMap"
  dart="var someExternal = 123;"/]
[:header age="129" accept-ranges="[=foo.toString()]" ]
[:header Cache-Control="no-cache"]
<!DOCTYPE html>
<html>
  <head>
    <title>[= "$foo.name [${foo.title}]" ]</title>
  </head>
  <body>
    <p>This is a test with """ and \ and ""\".
    <p>Another expresion: "[= foo.description]"
    <p>An empty expression: [=   
      ]
    <p>This is not a tag: [:foo ], [:another and [/none].
    <ul>
    [:for user in foo.friends]
      <li>[= user.name]
      [:if user.isCustomer as bool]
      <i>!important!</i>
      [/if]
      [:while user.hasMore() as bool]
        [= user.showMore()]
      [/while]
      </li>
    [/for]
    </ul>

    [:for fruit in ["apple", "orange"]]
      [=fruit]
    [/for]

    [:if foo.isCustomer as bool]
      *Custmer*
      [:include "/in-if" /]
    [:else if c]
      [:forward "/x/y/z"/]
    [:else if foo.isEmployee as bool]
      *Employee*
      [:forward syntax c="[=true]" foo="abc"/]
    [:else]
      *Unknown* \[/if] [!-- escape a [/if] --]
    [/if]

    [:var whatever]
    define a variable
      [:for fruit in ["apple", "orange"]]
        [=fruit]
      [/for]
	  [/var]

    [:include "/abc"/]
    [:include syntax c="[=true]"]
      [:var foo]
      The content for foo
      [/var]
    [/include]

    [:if foo.isMeaningful as bool]
      something is meaningful: [=whatever]
      [:forward "/foo?abc" first="1st" second="[=foo]"/]
    [/if]
    <script>
    $("#j\q");
    </script>
  </body>
</html>
[:json-js foo1=foo.name.length ~/ 2]
[:json foo2 = foo.name.length ~/ 2 * "/]".length /]
[!----]
[:dart/]
[!---]
-]
--]
[:dart]
new LinkedHashMap();
[/dart]
